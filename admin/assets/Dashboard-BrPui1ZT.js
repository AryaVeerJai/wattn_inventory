import{r as t,k as L,j as e}from"./index-CRtHqgNh.js";import{c as j,a as n}from"./index.esm-fLyxJGpA.js";import{P as B}from"./placeholder-D3fcAVlr.js";import{C as E,a as R}from"./CRow-2H-OSIFE.js";import{C as G,a as H}from"./CCardBody-DDKYtY5O.js";import{C as I}from"./CCardHeader-CAN0XqyB.js";import{C as M}from"./CFormInput-B9Cf93_D.js";import{C as y}from"./CFormSelect-DxU7Mvsn.js";import{C as Y,a as V,b as v,c as l,d as $,e as o}from"./CTable-BV9tLRoV.js";import{c as q,a as z}from"./cil-people-DqewmNmL.js";import{C as J}from"./CCardFooter-DWyyZTyY.js";import{c as K}from"./cil-arrow-left-D66Kb3Zq.js";import"./CFormControlWrapper-QynTV90e.js";import"./CFormControlValidation-nH6k3xNp.js";import"./CFormLabel-S0AgFI1E.js";const ne=()=>{const[C,w]=t.useState([]),[p,f]=t.useState([]),[i,D]=t.useState(""),[d,P]=t.useState(""),[u,S]=t.useState(""),[s,b]=t.useState(1),m=7,_=L();t.useEffect(()=>{(async()=>{try{const r=await fetch("http://143.244.137.105:4000/api/v1/materials");if(!r.ok)throw new Error("Network response was not ok");const c=await r.json();w(c.material||[]),f(c.material||[])}catch(r){console.error(r.message)}})()},[]),t.useEffect(()=>{let a=[...C];i&&(a=a.filter(r=>{var c,x;return((c=r.part_name)==null?void 0:c.toLowerCase().includes(i))||((x=r.part_number)==null?void 0:x.toLowerCase().includes(i))})),u&&(a=a.filter(r=>r.generic_accepted===u)),d&&a.sort((r,c)=>{var g,N;const x=(g=r[d])==null?void 0:g.toLowerCase(),T=(N=c[d])==null?void 0:N.toLowerCase();return x>T?1:-1}),f(a),b(1)},[i,u,d,C]);const k=p.slice((s-1)*m,s*m),h=a=>{a>0&&a<=Math.ceil(p.length/m)&&b(a)},A=()=>{const a=Math.ceil(p.length/m),r=[];return a<=1?null:(s!==1&&r.push(e.jsx(n,{color:"secondary",className:"mx-1",onClick:()=>h(1),children:"1"},1)),s>3&&r.push(e.jsx("span",{className:"mx-2",children:"..."},"left-ellipsis")),s>1&&r.push(e.jsx(n,{color:"secondary",className:"mx-1",onClick:()=>h(s-1),children:e.jsx(j,{icon:K})},"prev")),r.push(e.jsx(n,{color:"primary",className:"mx-1",children:s},s)),s<a&&r.push(e.jsx(n,{color:"secondary",className:"mx-1",onClick:()=>h(s+1),children:e.jsx(j,{icon:z})},"next")),s<a-2&&r.push(e.jsx("span",{className:"mx-2",children:"..."},"right-ellipsis")),s!==a&&r.push(e.jsx(n,{color:"secondary",className:"mx-1",onClick:()=>h(a),children:a},a)),r)},F=a=>{_(`/part/${a}`)};return e.jsx(e.Fragment,{children:e.jsx(E,{children:e.jsx(R,{xs:!0,children:e.jsxs(G,{className:"mb-4",children:[e.jsx(I,{children:"Materials List"}),e.jsxs(H,{children:[e.jsxs("div",{className:"d-flex mb-3",children:[e.jsx(M,{placeholder:"Search by Name or Part Number",className:"me-3",value:i,onChange:a=>D(a.target.value.toLowerCase())}),e.jsxs(y,{className:"me-3",onChange:a=>P(a.target.value),children:[e.jsx("option",{value:"",children:"Sort By"}),e.jsx("option",{value:"part_name",children:"Name"}),e.jsx("option",{value:"distributor",children:"Distributor"})]}),e.jsxs(y,{onChange:a=>S(a.target.value),children:[e.jsx("option",{value:"",children:"Filter Generic Accepted"}),e.jsx("option",{value:"Y",children:"Yes"}),e.jsx("option",{value:"N",children:"No"})]})]}),e.jsxs(Y,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[e.jsx(V,{className:"text-nowrap",children:e.jsxs(v,{children:[e.jsx(l,{className:"bg-body-tertiary text-center",children:e.jsx(j,{icon:q})}),e.jsx(l,{className:"bg-body-tertiary",children:"Name"}),e.jsx(l,{className:"bg-body-tertiary",children:"Part Number"}),e.jsx(l,{className:"bg-body-tertiary",children:"Value"}),e.jsx(l,{className:"bg-body-tertiary",children:"Generic Accepted"}),e.jsx(l,{className:"bg-body-tertiary",children:"Generic Part Number"}),e.jsx(l,{className:"bg-body-tertiary",children:"Distributor"})]})}),e.jsx($,{children:k.map((a,r)=>e.jsxs(v,{onClick:()=>F(a._id),style:{cursor:"pointer"},children:[e.jsx(o,{className:"text-center",children:e.jsx("img",{width:"50px",src:B,alt:"placeholder"})}),e.jsx(o,{children:a.part_name}),e.jsx(o,{children:a.part_number}),e.jsx(o,{children:a.value}),e.jsx(o,{children:a.generic_accepted}),e.jsx(o,{children:a.generic_manufacturing_part_number}),e.jsx(o,{children:a.distributor})]},r))})]})]}),e.jsx(J,{children:e.jsx("div",{className:"d-flex justify-content-end",children:A()})})]})})})})};export{ne as default};
